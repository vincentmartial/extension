#N canvas 479 137 446 538 10;
#X obj 97 359 /~;
#X obj 82 386 *~;
#N canvas 73 271 327 386 mapping 1;
#X obj 94 8 inlet~;
#X obj 24 327 outlet~;
#X obj 109 128 r \$0-factor;
#X obj 7 8 r \$0-exponent;
#X obj 145 8 r \$0-clip;
#X floatatom 152 58 5 0 0 0 - - -;
#X floatatom 119 176 5 0 0 0 - - -;
#X floatatom 16 38 8 0 0 0 - - -;
#X obj 94 103 clip~ 0 2;
#X obj 94 271 clip~ 1e-07 1;
#X text 18 352 \$0-exponent and \$0-clip come frome [pd exponent];
#N canvas 0 22 150 189 sin~ 0;
#X obj 39 38 inlet~;
#X obj 39 69 -~ 0.25;
#X obj 39 100 cos~;
#X obj 39 127 outlet~;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X restore 94 246 pd sin~;
#X obj 7 95 line~;
#X msg 7 64 \$1 100;
#X obj 94 223 *~;
#X msg 145 34 \$1 200;
#X msg 109 151 \$1 200;
#X obj 145 79 line 1 5;
#X obj 109 199 line~ 1 5;
#X obj 24 298 cyclone/pow~;
#X connect 0 0 8 0;
#X connect 2 0 16 0;
#X connect 3 0 7 0;
#X connect 3 0 13 0;
#X connect 4 0 15 0;
#X connect 8 0 14 0;
#X connect 9 0 19 1;
#X connect 11 0 9 0;
#X connect 12 0 19 0;
#X connect 13 0 12 0;
#X connect 14 0 11 0;
#X connect 15 0 5 0;
#X connect 15 0 17 0;
#X connect 16 0 6 0;
#X connect 16 0 18 0;
#X connect 17 0 8 2;
#X connect 18 0 14 1;
#X connect 19 0 1 0;
#X restore 97 334 pd mapping;
#X obj 37 444 outlet~;
#X obj 37 57 inlet~;
#X obj 101 57 inlet;
#X obj 164 58 inlet;
#X obj 37 387 *~;
#X obj 37 417 *~ 0.707;
#X floatatom 110 81 5 0 0 0 - - -;
#X text 90 444 audio;
#X floatatom 183 274 8 0 0 0 - - -;
#X text 96 149 quadrature transformer;
#N canvas 288 22 381 415 exponent 0;
#X floatatom 232 155 8 0 0 0 - - -;
#X floatatom 42 313 8 0 0 0 - - -;
#X obj 218 248 t b f;
#X text 171 297 1.5708 = pi/2;
#X text 98 313 exponent;
#X obj 218 125 dbtorms;
#X floatatom 236 51 5 0 0 0 - - -;
#X obj 218 103 + 100;
#X obj 218 80 clip -96 -20;
#X text 289 156 magnitude;
#X text 273 50 deciBel;
#X obj 20 70 clip 0.8 8;
#X obj 218 22 inlet;
#X text 216 0 compander point;
#X obj 20 20 inlet;
#X obj 20 280 expr log($f2)/log(sin($f1*$f2*1.5708));
#X obj 34 249 s \$0-factor;
#X obj 20 338 s \$0-exponent;
#X obj 34 226 * 0.25;
#X obj 49 99 t b f;
#X obj 49 148 /;
#X msg 49 123 1;
#X obj 49 199 s \$0-clip;
#X text 18 364 the parameters factor \, exponent and clip are used
in the patch [pd mapping];
#X floatatom 56 176 5 0 0 0 - - -;
#X msg 73 46 1;
#X obj 73 20 loadbang;
#X msg 107 46 -96;
#X text 92 176 limiter start point;
#X text 17 1 compander factor;
#X connect 2 0 15 0;
#X connect 2 1 15 1;
#X connect 5 0 0 0;
#X connect 5 0 2 0;
#X connect 7 0 5 0;
#X connect 8 0 7 0;
#X connect 11 0 15 0;
#X connect 11 0 18 0;
#X connect 11 0 19 0;
#X connect 12 0 6 0;
#X connect 12 0 8 0;
#X connect 14 0 11 0;
#X connect 15 0 1 0;
#X connect 15 0 17 0;
#X connect 18 0 16 0;
#X connect 19 0 21 0;
#X connect 19 1 20 1;
#X connect 20 0 22 0;
#X connect 20 0 24 0;
#X connect 21 0 20 0;
#X connect 25 0 11 0;
#X connect 26 0 27 0;
#X connect 26 0 25 0;
#X connect 27 0 8 0;
#X restore 101 107 pd exponent;
#X obj 255 60 inlet;
#N canvas 0 22 186 218 pyth~ 0;
#X obj 35 25 inlet~;
#X obj 98 25 inlet~;
#X obj 35 69 *~;
#X obj 98 69 *~;
#X obj 35 129 sqrt~;
#X obj 35 100 +~;
#X obj 35 163 outlet~;
#X connect 0 0 2 0;
#X connect 0 0 2 1;
#X connect 1 0 3 0;
#X connect 1 0 3 1;
#X connect 2 0 5 0;
#X connect 3 0 5 1;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X restore 112 194 pd pyth~;
#X obj 336 60 inlet;
#X text 164 34 point;
#X text 163 19 compander;
#X text 334 37 time;
#X text 333 21 recovery;
#X text 94 18 compander;
#X text 36 19 audio;
#X text 257 20 response;
#X text 256 36 time;
#N canvas 427 191 493 331 olli~ 0;
#X obj 264 85 delay~ 1 1;
#X obj 264 56 inlet~;
#X obj 39 237 outlet~;
#X obj 264 239 outlet~;
#X text 37 289 y[n]=b1*y[n-1]+b2*y[n-2]+a0*x[n]+a1*x[n-1]+a2*x[n-2]
;
#X text 36 270 Pd's biquad:;
#X obj 39 112 biquad~ 0 0.161758 0.161758 0 -1;
#X obj 39 141 biquad~ 0 0.733029 0.733029 0 -1;
#X obj 39 173 biquad~ 0 0.94535 0.94535 0 -1;
#X obj 39 200 biquad~ 0 0.990598 0.990598 0 -1;
#X obj 264 112 biquad~ 0 0.479401 0.479401 0 -1;
#X obj 264 142 biquad~ 0 0.876218 0.876218 0 -1;
#X obj 264 174 biquad~ 0 0.976599 0.976599 0 -1;
#X obj 264 202 biquad~ 0 0.9975 0.9975 0 -1;
#X text 91 238 first phase;
#X text 320 238 second phase;
#X text 167 238 << 90 degree >>;
#X text 40 25 Olli Niemitalo's quadrature transformer coefficients
;
#X connect 0 0 10 0;
#X connect 1 0 0 0;
#X connect 1 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 2 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 3 0;
#X restore 37 151 pd olli~;
#X obj 112 219 clip~ 1e-05 100;
#X obj 169 249 pow 5;
#X obj 112 274 lop~ 20000;
#X text 167 331 compander curve;
#X text 233 305 bridge amplitude modulation;
#X text 213 219 prevent division by zero!;
#X text 176 196 compute instantaneous amplitudes;
#X obj 336 86 clip 20 1000;
#X floatatom 173 83 5 0 0 0 - - -;
#X floatatom 263 109 5 0 0 0 - - -;
#X floatatom 336 111 5 0 0 0 - - -;
#X text 235 275 slow down response;
#X obj 163 379 cnv 15 250 80 empty empty empty 20 12 0 14 -233017 -66577
0;
#X text 172 387 [qompander~] quadrature compander;
#X text 173 416 Katja Vetter 2010;
#X text 173 434 www.katjaas.nl/compander/compander.html;
#X text 95 35 factor;
#X text 208 84 dB;
#X obj 255 157 line;
#X msg 255 132 \$1 100;
#X obj 255 86 clip 1 7.39;
#N canvas 0 22 281 177 ratio 0;
#X obj 30 29 inlet;
#X obj 177 52 samplerate~;
#X obj 30 99 expr exp((-1000/$f2)/$f1);
#X obj 177 26 loadbang;
#X text 72 42 time;
#X text 71 26 recovery;
#X obj 30 133 outlet;
#X text 77 132 ratio;
#X obj 30 72 clip 20 1000;
#X connect 0 0 8 0;
#X connect 1 0 2 1;
#X connect 2 0 6 0;
#X connect 3 0 1 0;
#X connect 8 0 2 0;
#X restore 342 152 pd ratio;
#X obj 112 305 iemlib/peakenv~ 20;
#X text 40 483 [iemlib/peakenv~] and [cyclone/pow~] from Pd extended
are used in this abstraction.;
#X connect 0 0 1 1;
#X connect 0 0 7 1;
#X connect 1 0 8 0;
#X connect 2 0 0 0;
#X connect 4 0 25 0;
#X connect 5 0 9 0;
#X connect 5 0 13 0;
#X connect 6 0 13 1;
#X connect 6 0 34 0;
#X connect 7 0 8 0;
#X connect 8 0 3 0;
#X connect 14 0 46 0;
#X connect 15 0 26 0;
#X connect 16 0 33 0;
#X connect 25 0 7 0;
#X connect 25 0 15 0;
#X connect 25 1 1 0;
#X connect 25 1 15 1;
#X connect 26 0 28 0;
#X connect 27 0 11 0;
#X connect 27 0 28 1;
#X connect 28 0 48 0;
#X connect 33 0 36 0;
#X connect 33 0 48 1;
#X connect 44 0 27 0;
#X connect 45 0 44 0;
#X connect 46 0 35 0;
#X connect 46 0 45 0;
#X connect 48 0 2 0;
#X connect 48 0 0 1;
